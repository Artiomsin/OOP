# Проект "Консольный Paint"

## 1. Обзор системы

Система представляет собой приложение для рисования на прямоугольном холсте с возможностью добавления и редактирования геометрических фигур (прямоугольников, треугольников, кругов). Приложение поддерживает сохранение и загрузку состояния холста в файл, а также позволяет пользователям отменять и повторять действия (например, добавление и удаление фигур).

Это консольное приложение написано на **Swift**.

## 2. Операции пользователя

### 2.1 Создание холста
**Описание:** Холст — это основной объект, на котором рисуются фигуры. Он представляет собой двумерный массив символов, где каждый элемент хранит символ, соответствующий пикселю.

**Реализация:**
- Холст имеет размеры ширина x высота (параметры задаются при создании холста).
- Пиксели холста могут быть либо пустыми, либо содержать символы (например, "#").
- Внешняя рамка холста всегда рисуется символами "#", а внутренняя часть остаётся пустой (для рисования фигур).

### 2.2 Добавление фигуры
**Описание:** Пользователь может добавлять геометрические фигуры (прямоугольники, треугольники, круги) на холст.

**Реализация:**
- **Прямоугольник:** Чтобы добавить прямоугольник, пользователь задаёт координаты верхнего левого угла, ширину и высоту. Фигура рисуется в пределах границ холста.
- **Треугольник:** Для добавления треугольника пользователь указывает координаты трёх вершин, которые должны находиться внутри границ холста.
- **Круг:** Чтобы добавить круг, пользователь задаёт координаты центра и радиус.

Все фигуры проверяются на попадание в пределы холста. Если фигура выходит за пределы, она не добавляется.

### 2.3 Перемещение фигуры
**Описание:** Пользователь может перемещать фигуру по холсту.

**Реализация:**
- Фигуру можно переместить на заданное количество пикселей по осям X и Y.
- При перемещении проверяется, что фигура остаётся внутри границ холста. Если фигура выходит за пределы, перемещение отклоняется.

### 2.4 Удаление фигуры
**Описание:** Пользователь может удалить любую фигуру с холста.

**Реализация:**
- Удаление фигуры происходит по индексу. При удалении фигура стирается с холста, а список фигур обновляется.

### 2.5 Отмена и повтор действия
**Описание:** Пользователь может отменять и повторять свои действия (добавление, удаление и перемещение фигур).

**Реализация:**
- Система поддерживает два стека:
  - **Стек Undo** — для отмены действий.
  - **Стек Redo** — для повторного выполнения отменённых действий.
- Каждое изменение состояния (например, добавление или удаление фигуры) сохраняется в стек.
- Пользователь может отменить последнее действие, восстановив холст в предыдущем состоянии.
- Пользователь может повторить отменённое действие.

### 2.6 Сохранение и загрузка состояния холста
**Описание:** Пользователь может сохранять состояние холста в файл и загружать его из файла.

**Реализация:**
- **Сохранение:** При сохранении пользователь вводит путь и имя файла. Состояние холста (все фигуры и их расположение) сохраняется в текстовый файл.
- **Загрузка:** При загрузке пользователь вводит путь и имя файла. Фигуры, сохранённые в файле, загружаются на холст в том же виде, в котором они были сохранены.

Каждая фигура сохраняется как строка данных, которая описывает её параметры (например, координаты для прямоугольников, треугольников и кругов).

Сохранение и загрузка поддерживают только текстовые файлы с расширением `.txt`.

### 2.7 Отображение холста
**Описание:** Холст должен отображаться в текстовом виде в консоли.

**Реализация:**
- Холст отображается как двумерный массив символов, где каждый символ представляет собой пиксель.
- Внешняя рамка всегда отображается символами "#", а внутренность холста — пробелами или символами, представляющими фигуры.

## 3. Требования к интерфейсу

### 3.1 Ввод данных пользователем
Пользователь вводит команды через стандартный консольный ввод:
- Для добавления фигуры пользователь вводит координаты и размеры.
- Для перемещения фигуры пользователь изменяет её координаты.
- Для сохранения и загрузки пользователь вводит путь к файлу и его имя.

### 3.2 Отображение сообщений
Сообщения должны отображать текущий статус (например, "Фигура добавлена", "Перемещение невозможно", "Холст сохранён", "Ошибка при загрузке").

Если действие не удаётся выполнить (например, фигура выходит за пределы холста), отображается соответствующее сообщение об ошибке.
